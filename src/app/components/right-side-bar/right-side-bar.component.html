<div class="right-sidebar-container">
  <div class="sidebar-content">
    <!-- Header with tabs -->
    <div class="sidebar-header">
      <div class="tabs-container">
        <button 
          *ngFor="let tab of tabs" 
          class="tab"
          [class.active]="tab.isActive"
          (click)="switchTab(tab.id)">
          <svg *ngIf="tab.icon === 'sparkle'" width="20" height="20" viewBox="0 0 20 20" fill="none" class="tab-icon">
            <path d="M10 2L11.5 7.5L17 9L11.5 10.5L10 16L8.5 10.5L3 9L8.5 7.5L10 2Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M14 3L14.5 5L16.5 5.5L14.5 6L14 8L13.5 6L11.5 5.5L13.5 5L14 3Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
          </svg>
          <svg *ngIf="tab.icon === 'comment'" width="20" height="20" viewBox="0 0 20 20" fill="none" class="tab-icon">
            <path d="M3 6C3 4.89543 3.89543 4 5 4H15C16.1046 4 17 4.89543 17 6V12C17 13.1046 16.1046 14 15 14H8L4 17V6C4 5.44772 4.44772 5 5 5H15C15.5523 5 16 5.44772 16 6V12C16 12.5523 15.5523 13 15 13H7.5L3 16V6Z" fill="currentColor"/>
          </svg>
          <span>{{ tab.label }}</span>
        </button>
      </div>
      <button class="close-btn" (click)="closePanel()" aria-label="Close panel">
        <img src="/icons/right-panel-close.svg" alt="Close" class="close-icon">
      </button>
    </div>

    <!-- Content area -->
    <div class="content-area">
      <div *ngIf="activeTab === 'ai-companion'" class="tab-content">
        <!-- AI Companion content will go here -->
      </div>
      <div *ngIf="activeTab === 'comments'" class="tab-content">
        <!-- Comments content will go here -->
      </div>
    </div>

    <!-- Input section -->
    <div class="input-section">
      <div class="input-container">
        <input 
          type="text" 
          class="message-input" 
          placeholder="Type Something"
          [(ngModel)]="userInput"
          (keyup.enter)="onSendMessage()">
        <div class="input-actions">
          <button class="attach-btn" (click)="onAttachFile()" aria-label="Attach file">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M21.44 11.05L12.25 20.24C11.1242 21.3658 9.59718 21.9983 8.005 21.9983C6.41282 21.9983 4.88584 21.3658 3.76 20.24C2.63416 19.1142 2.00166 17.5872 2.00166 15.995C2.00166 14.4028 2.63416 12.8758 3.76 11.75L12.33 3.18C13.0806 2.42944 14.0992 2.00562 15.16 2.00562C16.2208 2.00562 17.2394 2.42944 17.99 3.18C18.7406 3.93056 19.1644 4.94918 19.1644 6.01C19.1644 7.07082 18.7406 8.08944 17.99 8.84L9.41 17.41C9.03472 17.7853 8.52536 17.9972 7.995 17.9972C7.46464 17.9972 6.95528 17.7853 6.58 17.41C6.20472 17.0347 5.99279 16.5254 5.99279 15.995C5.99279 15.4646 6.20472 14.9553 6.58 14.58L14.79 6.38" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button class="send-btn" (click)="onSendMessage()" aria-label="Send message">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 2L11.5 7.5L17 9L11.5 10.5L10 16L8.5 10.5L3 9L8.5 7.5L10 2Z" fill="white" stroke="white" stroke-width="1.5" stroke-linejoin="round"/>
              <path d="M14 3L14.5 5L16.5 5.5L14.5 6L14 8L13.5 6L11.5 5.5L13.5 5L14 3Z" fill="white" stroke="white" stroke-width="1.5" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
